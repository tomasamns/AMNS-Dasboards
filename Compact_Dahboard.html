<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AM/NS India - Compact ESG Dashboard</title>
    <!-- Inter font from Google Fonts --><link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN --><script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Enable class-based dark mode in Tailwind
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
    <style>
        /* Set a specific font and ensure the container is responsive */
        body {
            font-family: 'Inter', sans-serif;
            /* Use flexbox to center the dashboard on the page */
            margin: 0;
            display: flex;
            justify-content: center; /* Center horizontally */
            align-items: center;     /* Center vertically */
            min-height: 100vh;       /* Ensure body takes full viewport height */
            padding: 20px;           /* Add some padding for smaller viewports */
            box-sizing: border-box;  /* Include padding in height/width calculation */
            transition: background-color 0.3s ease;
        }
        #dashboard-container {
            width: 1600px;
            height: 240px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            overflow: hidden; /* Ensure content doesn't spill out */
            flex-shrink: 0; /* Prevent the container from shrinking */
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900">

    <!-- Main Dashboard Container with fixed dimensions --><div id="dashboard-container" class="relative bg-white dark:bg-gray-800 rounded-lg flex items-center p-4">
        
        <!-- Theme Toggle Button --><button id="theme-toggle" class="absolute top-4 right-4 z-10 p-1.5 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors">
            <svg id="theme-icon-light" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
            </svg>
            <svg id="theme-icon-dark" class="h-4 w-4 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
            </svg>
        </button>
        
        <!-- Fixed 6-column grid --><div class="w-full h-full grid grid-cols-6 divide-x divide-gray-200 dark:divide-gray-700">

            <!-- Info Panel --><div class="flex flex-col justify-center items-start pr-6">
                <h2 class="text-lg font-bold text-gray-800 dark:text-gray-100 tracking-wide">AM/NS INDIA</h2>
                <p class="text-md text-gray-600 dark:text-gray-300">ESG Pulse Monitor</p>
                <hr class="my-3 border-gray-200 dark:border-gray-600 w-full">
                <p id="month-display" class="text-lg font-semibold text-indigo-600 dark:text-indigo-400">September 2025</p>
                <p id="greeting-display" class="text-md text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><span>Good Morning</span></p>
            </div>

            <!-- Metric 1: Production --><div class="relative flex flex-col justify-center items-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60" class="h-8 w-8 mb-2 text-gray-500 dark:text-gray-400">
                    <g fill="currentColor" fill-rule="nonzero">
                        <path d="M1,60 L47,60 C47.5522847,60 48,59.5522847 48,59 L48,52 C48,51.983 47.991,51.97 47.99,51.953 C47.9859098,51.8463819 47.9649847,51.7410814 47.928,51.641 C47.928,51.629 47.922,51.616 47.917,51.605 C47.8786427,51.5142533 47.8270858,51.4296731 47.764,51.354 L37.364,39.062 C36.7935387,38.3879215 35.9550671,37.9994151 35.072,38 L28.381,38 C29.2902562,36.237157 30.3583439,34.5608853 31.572,32.992 C31.772,33.022 31.992,33.042 32.221,33.055 L36.8,33.5 C37.2129031,34.2468958 37.9428635,34.7656681 38.784,34.91 C38.861,34.922 38.937,34.922 39.014,34.928 C39.039,34.928 39.06,34.943 39.086,34.943 L44.977,35 L45.055,35 C45.6960756,34.9880293 46.3223214,34.8050579 46.869,34.47 L48.201,34.614 C48.237194,34.6180195 48.2735835,34.6200226 48.31,34.62 L48.363,34.62 L48.436,34.62 C52.936,34.281 57.318,29.673 59.092,23.42 C60.784,17.447 59.71,11.608 56.436,8.733 C56.1637229,7.65579335 55.4195744,6.7591403 54.411,6.293 C54.405,6.293 54.402,6.286 54.396,6.283 L50.335,4.47 C49.5713879,4.00605309 48.6315853,3.93650696 47.808,4.283 L41.819,1.292 C41.7910981,1.27910214 41.7623678,1.26807772 41.733,1.259 C41.1261443,0.879710262 40.4695338,0.586574568 39.782,0.388 C36.8,-0.457 33.532,0.496 30.582,3.073 C29.1822383,4.32052767 27.9763129,5.76979523 27.004,7.373 L9.35,0.079 L9.344,0.079 C9.29083404,0.062654135 9.23626724,0.0512721029 9.181,0.045 C9.10934781,0.0214045551 9.03517364,0.00630121674 8.96,0 L1,0 C0.44771525,7.3207812e-17 6.76353751e-17,0.44771525 0,1 L0,4.194 C0.00023757104,4.32484046 0.0264085937,4.45433604 0.077,4.575 C0.11052377,4.64070548 0.15181964,4.70214567 0.2,4.758 C0.227049501,4.80599446 0.257809891,4.85180069 0.292,4.895 C0.384845611,4.98773338 0.494904737,5.06144582 0.616,5.112 L24.016,14.788 C23.0792856,18.5643767 23.2042155,22.526144 24.377,26.236 C22.9438618,30.0241691 21.9871931,33.975802 21.529,38 L12.929,38 C12.0462824,37.9997094 11.2082355,38.3881886 10.638,39.062 L0.236,51.354 C0.172914158,51.4296731 0.121357263,51.5142533 0.083,51.605 C0.078,51.616 0.077,51.629 0.073,51.64 C0.035220666,51.7402425 0.0139446027,51.8459474 0.01,51.953 C0.01,51.97 1.66880398e-15,51.983 1.66880398e-15,52 L1.66880398e-15,59 C-1.40599316e-16,59.2652165 0.10535684,59.5195704 0.292893219,59.7071068 C0.480429597,59.8946432 0.73478351,60 1,60 Z M46,58 L2,58 L2,53 L46,53 L46,58 Z M17.282,45 C18.4852682,44.5171813 19.7580041,44.2298874 21.052,44.149 C21.032,44.705 21.029,45.276 21.021,45.843 C19.7374544,45.7648165 18.4749148,45.4801626 17.282,45 Z M26.357,26.633 C27.0063433,24.9821447 27.8250511,23.4030406 28.8,21.921 C29.0710979,21.5001178 29.3718605,21.099101 29.7,20.721 C29.754,20.68 31.736,19.258 39.279,22.011 C38.4510528,23.5482777 37.2938313,24.8837433 35.89,25.922 C34.8088272,26.6285761 33.8064436,27.4489215 32.9,28.369 C32,29.318 31.154,30.294 30.38,31.269 C28.570994,33.5080345 27.0600557,35.9722591 25.885,38.6 L25.877,38.618 C24.8322394,40.9497748 24.2141222,43.4500167 24.052,46 C23.6993333,46 23.3546667,45.995 23.018,45.985 C23.112,38.461 24.227,31.948 26.357,26.634 L26.357,26.633 Z M40.987,17.917 C40.7611093,18.6975338 40.4828106,19.4619366 40.154,20.205 C33.11,17.605 30.064,18.247 28.89,18.863 C28.950682,17.4446636 29.1761985,16.0382056 29.562,14.672 C31.171,9 35.156,4.953 38.245,5.821 C41.339,6.7 42.6,12.244 40.987,17.918 L40.987,17.917 Z M45.245,5.237 L49.99,7.609 C50.2372372,8.84280457 50.3046021,10.1058973 50.19,11.359 C49.7998918,15.1168143 48.8276011,18.7910745 47.308,22.25 C46.1216453,25.3855225 44.4195256,28.3006899 42.272,30.875 C41.9411457,31.2476478 41.5828072,31.5949553 41.2,31.914 L37.8,31.585 C41.4,29.434 44.52,25.11 46.066,19.663 C47.593,14.253 47.153,8.958 45.245,5.238 L45.245,5.237 Z M26.271,44.085 C27.7955147,44.1368361 29.3001914,44.4469009 30.721,45.002 C29.2237213,45.5750418 27.6396799,45.8885359 26.037,45.929 C26.0814649,45.310541 26.1595806,44.6949626 26.271,44.085 Z M45.039,33 L45.01,33 L43.015,32.98 C43.322,32.689 43.579,32.416 43.767,32.205 C46.0484272,29.4548465 47.8674962,26.3520267 49.153,23.018 C50.7541399,19.3688572 51.7760979,15.4922321 52.182,11.528 C52.3065354,10.1500601 52.2453208,8.7616333 52,7.4 L53.588,8.107 C53.5943247,8.10653296 53.6006753,8.10653296 53.607,8.107 C53.613,8.107 53.617,8.115 53.623,8.117 C54.1419502,8.39730047 54.500596,8.90347174 54.593,9.486 C54.601,9.522 54.611,9.556 54.622,9.586 C54.8384809,10.7544128 54.8883095,11.9476061 54.77,13.13 C54.5013362,16.1750168 53.7853076,19.1638043 52.645,22 C51.6522563,24.7505825 50.2825195,27.3500536 48.575,29.724 C48.466,29.872 48.348,30.038 48.222,30.213 C47.426,31.323 46.228,33 45.039,33 Z M57.168,22.867 C55.739,27.907 52.368,31.825 48.993,32.523 C49.311,32.123 49.593,31.723 49.849,31.373 L50.183,30.911 C51.9993763,28.3889022 53.4575719,25.6273159 54.516,22.705 C55.7233818,19.6878793 56.4801568,16.5094917 56.762,13.272 C56.776,13.072 56.792,12.823 56.806,12.546 C58.1192067,15.840401 58.2471672,19.4886885 57.168,22.867 Z M31.9,4.579 C34.323,2.462 36.926,1.658 39.238,2.312 C44.168,3.712 46.366,11.248 44.138,19.117 C42.238,25.817 37.638,30.762 33.159,31.056 C33.543,30.614 33.9396667,30.176 34.349,29.742 C35.158603,28.9250411 36.0526078,28.1962948 37.016,27.568 C38.9918549,26.0987192 40.5642287,24.1538052 41.587,21.914 C41.599,21.888 41.609,21.861 41.621,21.835 C42.1515022,20.7524145 42.5832523,19.6241747 42.911,18.464 C44.879,11.518 43.07,5.121 38.79,3.899 C34.51,2.677 29.605,7.185 27.637,14.129 C26.9782932,16.3904483 26.741015,18.7537393 26.937,21.101 C26.474057,21.8213004 26.0484941,22.5649508 25.662,23.329 C25.1612202,20.2324741 25.3611236,17.0630656 26.247,14.054 C27.191573,10.4221917 29.1526489,7.13523002 31.9,4.579 Z M8.761,2 L26.021,9.134 C25.4277053,10.3283084 24.9320859,11.5686944 24.539,12.843 L2,3.521 L2,2 L8.761,2 Z M12.161,40.354 C12.3518301,40.1285041 12.6325963,39.9989197 12.928,40 L21.328,40 C21.2613333,40.7 21.2066667,41.4096667 21.164,42.129 C18.532,42.362 15,43.04 15,45 C15,47.071 18.982,47.708 21.583,47.9 C21.7130247,47.9633988 21.8553634,47.9975328 22,48 C22.0908014,47.9948798 22.18039,47.9766926 22.266,47.946 C22.801,47.979 23.366,48 24,48 C24.31,48 24.61,47.991 24.91,47.982 C24.9396743,47.9895268 24.9697134,47.9955346 25,48 C25.0398186,47.9946054 25.0792377,47.986588 25.118,47.976 C27.557,47.9 33,47.443 33,45 C33,43.04 29.494,42.352 26.735,42.114 C26.9435869,41.3973191 27.1885715,40.6917369 27.469,40 L35.069,40 C35.3633557,39.999805 35.6428462,40.1293072 35.833,40.354 L44.844,51 L3.156,51 L12.161,40.354 Z"></path>
                        <path d="M16,32 C17.6568542,32 19,30.6568542 19,29 C19,27.3431458 17.6568542,26 16,26 C14.3431458,26 13,27.3431458 13,29 C13,30.6568542 14.3431458,32 16,32 Z M16,28 C16.5522847,28 17,28.4477153 17,29 C17,29.5522847 16.5522847,30 16,30 C15.4477153,30 15,29.5522847 15,29 C15,28.4477153 15.4477153,28 16,28 Z"></path>
                        <circle cx="10" cy="24" r="1"></circle>
                        <circle cx="13" cy="19" r="1"></circle>
                    </g>
                </svg>
                <p class="text-base font-medium text-gray-500 dark:text-gray-400">Production</p>
                <p class="text-4xl font-bold text-gray-800 dark:text-gray-100 mt-1">
                    <span id="production-value">0.57</span>
                    <span class="text-lg font-semibold text-gray-500 dark:text-gray-400 align-baseline">MnT</span>
                </p>
            </div>

            <!-- Metric 2: CO2 Intensity --><div class="relative flex flex-col justify-center items-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60" class="h-8 w-8 mb-2 text-cyan-500 dark:text-cyan-400">
                    <g fill="currentColor" fill-rule="nonzero">
                        <path d="M10.649,43H23.222a.846.846,0,0,1,.613.254,1.025,1.025,0,0,1,.288.746,8.724,8.724,0,1,0,17.439-.023,1.008,1.008,0,0,1,.287-.723A.853.853,0,0,1,42.463,43H48.28a9.035,9.035,0,0,0,1.94-17.778A10.813,10.813,0,0,0,39.6,15a10.282,10.282,0,0,0-3.454.591A15.619,15.619,0,0,0,21.263,4,15.761,15.761,0,0,0,5.789,20a16.274,16.274,0,0,0,.14,2.14A10.975,10.975,0,0,0,0,32,10.841,10.841,0,0,0,10.649,43ZM7.42,23.653a1,1,0,0,0,.6-1.105A13.943,13.943,0,0,1,7.789,20,13.76,13.76,0,0,1,21.263,6a13.657,13.657,0,0,1,13.2,11.165,1,1,0,0,0,1.422.7A8.35,8.35,0,0,1,39.6,17a8.855,8.855,0,0,1,8.649,9.06,1,1,0,0,0,.871.992A7.024,7.024,0,0,1,48.28,41H42.463a2.846,2.846,0,0,0-2.03.842A3,3,0,0,0,39.562,44a6.726,6.726,0,1,1-13.439-.019,3,3,0,0,0-.872-2.14A2.852,2.852,0,0,0,23.222,41H10.649A8.84,8.84,0,0,1,2,32,8.948,8.948,0,0,1,7.42,23.653Z"></path><path d="M16,38a6.983,6.983,0,0,0,3.5-.935,1,1,0,0,0-1-1.73,5,5,0,1,1,0-8.67,1,1,0,0,0,1-1.73A7,7,0,1,0,16,38Z"></path><path d="M28,38a7,7,0,1,0-7-7A7.008,7.008,0,0,0,28,38Zm0-12a5,5,0,1,1-5,5A5.006,5.006,0,0,1,28,26Z"></path><path d="M37,25.333a1,1,0,0,0,1-1,1.51,1.51,0,0,1,3,0c0,1.153-2.64,2.926-4.424,3.761A1,1,0,0,0,37,30h5a1,1,0,0,0,0-2H40.582C41.852,27.017,43,25.739,43,24.333a3.5,3.5,0,0,0-7,0A1,1,0,0,0,37,25.333Z"></path><path d="M57,43a3,3,0,1,0,3,3A3,3,0,0,0,57,43Zm0,4a1,1,0,1,1,1-1A1,1,0,0,1,57,47Z"></path><path d="M43,51a5,5,0,1,0,5-5A5.006,5.006,0,0,0,43,51Zm8,0a3,3,0,1,1-3-3A3,3,0,0,1,51,51Z"></path>
                        <circle cx="10" cy="24" r="1"></circle>
                        <circle cx="13" cy="19" r="1"></circle>
                    </g>
                </svg>
                <p class="text-base font-medium text-gray-500 dark:text-gray-400">CO₂ Intensity</p>
                <p class="text-4xl font-bold text-cyan-600 dark:text-cyan-400 mt-1">
                    <span id="co2-value">2.20</span>
                    <span class="text-lg font-semibold text-gray-500 dark:text-gray-400 align-baseline">tCO₂/tcs</span>
                </p>
            </div>

            <!-- Metric 3: Energy Intensity --><div class="relative flex flex-col justify-center items-center">
                 <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mb-2 text-green-500 dark:text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
                <p class="text-base font-medium text-gray-500 dark:text-gray-400">Energy Intensity</p>
                <p class="text-4xl font-bold text-green-600 dark:text-green-400 mt-1">
                    <span id="energy-value">0.91</span>
                     <span class="text-lg font-semibold text-gray-500 dark:text-gray-400 align-baseline">MWh/tcs</span>
                </p>
            </div>

            <!-- Metric 4: Water Intensity --><div class="relative flex flex-col justify-center items-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60" class="h-8 w-8 mb-2 text-blue-500 dark:text-blue-400">
                    <g fill="currentColor" fill-rule="nonzero">
                        <path id="Shape" d="m30 9c-11.5979797 0-21 9.4020203-21 21s9.4020203 21 21 21 21-9.4020203 21-21c-.0132259-11.592497-9.407503-20.98677409-21-21zm-16.443 30.478c.3950479-.1843215.7766545-.3961766 1.142-.634.7607673-.5695566 1.6909257-.8668129 2.641-.844.9491965-.0230561 1.8783746.275042 2.637.846 1.0769931.7751256 2.3763293 1.1800497 3.703 1.154 1.3233318.0253963 2.6191912-.379187 3.693-1.153 1.5728319-1.1274197 3.6891681-1.1274197 5.262 0 2.2259503 1.5411258 5.1740497 1.5411258 7.4 0 1.5737028-1.1274535 3.690159-1.1294631 5.266-.005.365565.2389049.7478909.4511225 1.144.635-.4009301.6904846-.8448027 1.3551245-1.329 1.99-.7740789-.3237623-1.6070898-.482804-2.446-.467-1.325928-.0251784-2.6242432.3804574-3.7 1.156-1.5728319 1.1274197-3.6891681 1.1274197-5.262 0-2.2259503-1.5411258-5.1740497-1.5411258-7.4 0-1.5730292 1.1268057-3.6889708 1.1268057-5.262 0-1.0775716-.7764571-2.3780829-1.1821212-3.706-1.156-.8415209-.01604-1.6771912.1429894-2.454.467-.48419-.6345328-.9280632-1.2988395-1.329-1.989zm16.443 9.522c-5.1833109-.0011333-10.1394555-2.1275188-13.712-5.883.3449965-.0793497.6979995-.1186095 1.052-.117.9491965-.0230561 1.8783746.275042 2.637.846 1.0769931.7751256 2.3763293 1.1800497 3.703 1.154 1.3233318.0253963 2.6191912-.379187 3.693-1.153 1.5728319-1.1274197 3.6891681-1.1274197 5.262 0 2.2259503 1.5411258 5.1740497 1.5411258 7.4 0 .757881-.571026 1.6863435-.869473 2.635-.847.3512715-.0020778.701603.0365124 1.044.115-3.5726126 3.7568199-8.5296721 5.8840107-13.714 5.885zm17.358-11.308c-.345954-.1524567-.6784612-.3337634-.994-.542-2.228274-1.5358687-5.1742196-1.5334801-7.4.006-1.5728319 1.1274197-3.6891681 1.1274197-5.262 0-2.2259503-1.5411258-5.1740497-1.5411258-7.4 0-1.5730292 1.1268057-3.6889708 1.1268057-5.262 0-1.0759201-.775216-2.3741237-1.1808169-3.7-1.156-1.3251583-.0251899-2.6229765.3785368-3.7 1.151-.3152124.2079121-.6473881.388886-.993.541-3.54713563-7.968763-1.2127892-17.3291261 5.6608429-22.6990923 6.8736322-5.36996613 16.520682-5.36996613 23.3943142 0 6.8736321 5.3699662 9.2079785 14.7303293 5.6608429 22.6990923z"></path><path id="Shape" d="m58.2 25.02-2.8-.559c-.6512313-3.0252157-1.8444503-5.9076425-3.522-8.508l1.579-2.369c.1092599-.1645007.1676876-.3575206.168-.555 0-.3-.116-1.945-2.414-4.242s-3.937-2.414-4.242-2.414c-.1975323-.00004431-.3906531.05841388-.555.168l-2.367 1.579c-2.6003597-1.67642326-5.4823715-2.86893315-8.507-3.52l-.56-2.8c-.0385839-.19353984-.1335711-.37133627-.273-.511-.216-.212-1.457-1.289-4.707-1.289s-4.491 1.077-4.707 1.293c-.1394289.13966373-.2344161.31746016-.273.511l-.56 2.796c-3.0246285.65106685-5.9066403 1.84357674-8.507 3.52l-2.369-1.579c-.1643469-.10958612-.3574677-.16804431-.555-.168-.3 0-1.944.116-4.242 2.414s-2.414 3.937-2.414 4.242c.00031242.1974794.05874008.3904993.168.555l1.579 2.369c-1.67684682 2.6005-2.86938496 5.4829189-3.52 8.508l-2.8.559c-.19372441.0380671-.37166323.1331304-.511.273-.212.216-1.289 1.457-1.289 4.707s1.077 4.491 1.293 4.707c.13933677.1398696.31727559.2349329.511.273l2.794.559c.65123131 3.0252157 1.84445027 5.9076425 3.522 8.508l-1.579 2.369c-.10925992.1645007-.16768758.3575206-.168.555 0 .305.116 1.945 2.414 4.242s3.937 2.414 4.242 2.414c.1975323.0000443.3906531-.0584139.555-.168l2.369-1.579c2.6003597 1.6764233 5.4823715 2.8689332 8.507 3.52l.56 2.794c.0385839.1935398.1335711.3713363.273.511.216.218 1.457 1.295 4.707 1.295s4.491-1.077 4.707-1.293c.1394289-.1396637.2344161-.3174602.273-.511l.56-2.794c3.024763-.6516832 5.9067827-1.8448739 8.507-3.522l2.369 1.579c.1643469.1095861.3574677.1680443.555.168.305 0 1.944-.116 4.242-2.414s2.414-3.937 2.414-4.242c-.0003124-.1974794-.0587401-.3904993-.168-.555l-1.579-2.369c1.6768468-2.6005 2.869385-5.4829189 3.52-8.508l2.8-.559c.1937244-.0380671.3716632-.1331304.511-.273.212-.216 1.289-1.457 1.289-4.707s-1.077-4.491-1.293-4.707c-.138254-.1391758-.3147043-.2341875-.507-.273zm-.791 8.08-3.051.61c-.3992049.0799834-.7100632.3940056-.786.794-.6062456 3.219104-1.8721241 6.2779131-3.718 8.984-.2295936.3366384-.2319672.7789167-.006 1.118l1.723 2.586c-.3679709 1.0011851-.9761011 1.8967264-1.771 2.608-.7099529.7939335-1.6022267 1.4034252-2.6 1.776l-2.6-1.728c-.3388799-.2262682-.7811575-.2242902-1.118.005-2.7052697 1.8462317-5.7634334 3.1124654-8.982 3.719-.3999944.0759368-.7140166.3867951-.794.786l-.61 3.051c-.9680858.4473908-2.031186.6503276-3.096.591-1.0655752.0591087-2.1295262-.1420124-3.1-.586l-.611-3.056c-.0799834-.3992049-.3940056-.7100632-.794-.786-3.2189151-.6064028-6.2774317-1.8726417-8.983-3.719-.3368425-.2292902-.7791201-.2312682-1.118-.005l-2.584 1.724c-1.0020097-.3679678-1.8982758-.9764672-2.61-1.772-.79378158-.7098791-1.40296203-1.6021998-1.775-2.6l1.726-2.59c.2259672-.3390833.2235936-.7813616-.006-1.118-1.84653553-2.7085577-3.11211268-5.7701853-3.717-8.992-.0759368-.3999944-.38679511-.7140166-.786-.794l-3.051-.606c-.4482328-.9692338-.65119426-2.0338371-.591-3.1-.05910869-1.0655752.14201236-2.1295262.586-3.1l3.056-.61c.39920489-.0799834.7100632-.3940056.786-.794.60624556-3.219104 1.87212407-6.2779131 3.718-8.984.2295936-.3366384.2319672-.7789167.006-1.118l-1.723-2.584c.36768203-1.001906.9758315-1.8981624 1.771-2.61.7099529-.79393349 1.6022267-1.40342516 2.6-1.776l2.59 1.727c.337862.2277765.780138.2277765 1.118 0 2.7079277-1.84891309 5.7696417-3.1165689 8.992-3.723.3999944-.0759368.7140166-.38679511.794-.786l.61-3.051c.9680858-.44739082 2.031186-.65032759 3.096-.591 1.0655752-.05910869 2.1295262.14201236 3.1.586l.611 3.056c.0799834.39920489.3940056.7100632.794.786 3.2189151.60640285 6.2774317 1.87264167 8.983 3.719.337862.2277765.780138.2277765 1.118 0l2.584-1.719c1.0020097.36796783 1.8982758.97646724 2.61 1.772.7937816.7098791 1.402962 1.6021998 1.775 2.6l-1.727 2.6c-.2259672.3390833-.2235936.7813616.006 1.118 1.8456228 2.7054896 3.111491 5.7635929 3.718 8.982.0759368.3999944.3867951.7140166.786.794l3.051.61c.4475866.9680229.6505328 2.0311724.591 3.096.0601943 1.0661629-.1427672 2.1307662-.591 3.1z"></path><path id="Shape" d="m31.22 13.464c-.6975671-.6136987-1.7424329-.6136987-2.44 0-2.039 1.8-6.78 6.586-6.78 12.2-.0010264 2.2682209.9006465 4.4436057 2.506 6.046 1.4556467 1.4610179 3.4316101 2.2846357 5.494 2.29h.1c4.4625244-.1669778 7.9727626-3.8709456 7.9-8.336 0-5.611-4.741-10.401-6.78-12.2zm-1.146 18.536c-1.562662.0167383-3.065123-.6018584-4.163-1.714-1.225867-1.2259317-1.9134577-2.8893183-1.911-4.623 0-4.82 4.46-9.229 6-10.607 1.54 1.378 6 5.79 6 10.608.0772523 3.3724419-2.5559302 6.1878054-5.926 6.336z"></path><path id="Shape" d="m29.964 28c-1.0941805-.0109946-1.9728797-.9058003-1.964-2 0-.5522847-.4477153-1-1-1s-1 .4477153-1 1c-.0077545 2.1983031 1.7657166 3.9878805 3.964 4h.036c.2632485-.0007678.5152126-.1069856.6995644-.2949079.1843517-.1879222.2857172-.4418773.2814356-.7050921-.0076707-.5557121-.4612375-1.0016972-1.017-1z"></path>
                        <circle cx="10" cy="24" r="1"></circle>
                        <circle cx="13" cy="19" r="1"></circle>
                    </g>
                </svg>
                <p class="text-base font-medium text-gray-500 dark:text-gray-400">Water Intensity</p>
                <p class="text-4xl font-bold text-blue-600 dark:text-blue-400 mt-1">
                    <span id="water-value">2.81</span>
                    <span class="text-lg font-semibold text-gray-500 dark:text-gray-400 align-baseline">m³/tcs</span>
                </p>
            </div>

            <!-- Metric 5: Diversity --><div class="relative flex flex-col justify-center items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mb-2 text-purple-500 dark:text-purple-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                </svg>
                <p class="text-base font-medium text-gray-500 dark:text-gray-400">Diversity</p>
                <p class="text-4xl font-bold text-purple-600 dark:text-purple-400 mt-1">
                    <span id="diversity-value">11.3</span>
                     <span class="text-lg font-semibold text-gray-500 dark:text-gray-400 align-baseline">%</span>
                </p>
            </div>
        </div>
         <!-- "See More" Button --><a href="https://arcelormittal.sharepoint.com/sites/amnsindia-sustainability/SitePages/Dashboard-Advanced.aspx" 
           target="_blank" 
           rel="noopener noreferrer" 
           class="absolute bottom-5 right-5 flex items-center gap-1.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 font-medium text-xs px-2.5 py-1 rounded-full shadow-sm hover:shadow-md hover:bg-indigo-600 dark:hover:bg-indigo-500 hover:text-white transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            <span>See More</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
            </svg>
        </a>
    </div>

    <script>
        // Data for the latest month ('2025-09') is used directly.
        const latestMonthData = {
            ym: '2025-09',
            productionMTD: 573165.00,
            totalAbsEmissionMTD: 1262815.00,
            totalElectricity: 521466.00,
            specificWaterConsumption: 2.81,
            maleEmployees: 11106,
            femaleEmployees: 1411
        };

        window.onload = function() {
            const themeToggle = document.getElementById('theme-toggle');
            const lightIcon = document.getElementById('theme-icon-light'); // Sun icon
            const darkIcon = document.getElementById('theme-icon-dark');  // Moon icon

            // --- THEME LOGIC ---

            function applyTheme(theme) {
                const isDark = theme === 'dark';
                // Use the 'force' parameter of toggle for a more robust state change
                document.documentElement.classList.toggle('dark', isDark);
                // Hide sun icon if it's dark, show if it's light
                lightIcon.classList.toggle('hidden', isDark);
                // Hide moon icon if it's light, show if it's dark
                darkIcon.classList.toggle('hidden', !isDark);
            }

            // Get IST hour (UTC+5.5) for consistent time-based actions
            const now = new Date();
            const istOffset = 5.5 * 60 * 60 * 1000;
            const istTime = new Date(now.getTime() + istOffset);
            const istHour = istTime.getUTCHours();
            
            // System theme based on IST time (5 PM to 6 AM is dark)
            const systemIsNight = istHour >= 17 || istHour < 6;
            const systemTheme = systemIsNight ? 'dark' : 'light';
            
            // Check for user-saved theme in localStorage
            const userTheme = localStorage.getItem('theme');

            // Apply theme: user's choice overrides the system's default
            applyTheme(userTheme || systemTheme);

            // Manual toggle event listener
            themeToggle.addEventListener('click', () => {
                // Determine the new theme based on the current state
                const newTheme = document.documentElement.classList.contains('dark') ? 'light' : 'dark';
                // Save the user's preference
                localStorage.setItem('theme', newTheme);
                // Apply the new theme
                applyTheme(newTheme);
            });
            
            // --- DYNAMIC INFO PANEL CONTENT ---

            // Set Month Display
            const monthDisplayEl = document.getElementById('month-display');
            if (monthDisplayEl) {
                const date = new Date(latestMonthData.ym + '-02'); // Use day 02 to avoid timezone issues
                const monthYear = date.toLocaleString('en-US', { month: 'long', year: 'numeric' });
                monthDisplayEl.textContent = monthYear;
            }

            // Set Greeting with Icon (based on IST)
            const greetingDisplayEl = document.getElementById('greeting-display');
            if (greetingDisplayEl) {
                let greeting = '';
                let iconSvg = '';

                if (istHour >= 5 && istHour < 12) {
                    greeting = 'Good Morning';
                    iconSvg = `<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>`;
                } else if (istHour >= 12 && istHour < 17) {
                    greeting = 'Good Afternoon';
                    iconSvg = `<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>`;
                } else if (istHour >= 17 && istHour < 21) {
                    greeting = 'Good Evening';
                    iconSvg = `<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 10V3M12 21v-2m-7.07-2.93l1.41-1.41M4.93 4.93l1.41 1.41M21 12h-2M5 12H3m15.07 4.07l-1.41-1.41M17.66 6.34l-1.41 1.41M4 16h16" /></svg>`;
                } else {
                    greeting = 'Good Night';
                    iconSvg = `<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>`;
                }
                greetingDisplayEl.innerHTML = `${iconSvg}<span>${greeting}</span>`;
            }
            
            // --- CALCULATE METRICS ---

            // 1. Production in Million Tonnes (MnT)
            const productionMnT = latestMonthData.productionMTD / 1_000_000;

            // 2. CO2 Intensity
            const co2Intensity = latestMonthData.totalAbsEmissionMTD / latestMonthData.productionMTD;

            // 3. Energy Intensity
            const energyIntensity = latestMonthData.totalElectricity / latestMonthData.productionMTD;

            // 4. Water Intensity (already provided)
            const waterIntensity = latestMonthData.specificWaterConsumption;

            // 5. Diversity Percentage
            const totalEmployees = latestMonthData.maleEmployees + latestMonthData.femaleEmployees;
            const diversityPercentage = (latestMonthData.femaleEmployees / totalEmployees) * 100;

            // --- UPDATE THE DOM ---
            document.getElementById('production-value').textContent = productionMnT.toFixed(2);
            document.getElementById('co2-value').textContent = co2Intensity.toFixed(2);
            document.getElementById('energy-value').textContent = energyIntensity.toFixed(2);
            document.getElementById('water-value').textContent = waterIntensity.toFixed(2);
            document.getElementById('diversity-value').textContent = diversityPercentage.toFixed(1);
        };
    </script>
</body>
</html>

